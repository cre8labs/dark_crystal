(function(){"use strict";!function(){var a;return null!=(a=Array.prototype).shuffle?(a=Array.prototype).shuffle:a.shuffle=function(){var a,b,c,d,e;for(a=c=d=this.length-1;1>=d?1>=c:c>=1;a=1>=d?++c:--c)b=Math.floor(Math.random()*(a+1)),e=[this[b],this[a]],this[a]=e[0],this[b]=e[1];return this}}(),angular.module("darkCrystalApp",["ui.bootstrap","ngResource"]).config(["$routeProvider",function(a){return a.when("/",{redirectTo:"/players"}).when("/about",{templateUrl:"views/about.html"}).when("/contact",{templateUrl:"views/contact.html"}).when("/players",{templateUrl:"views/players.html",controller:"PlayersCtrl",resolve:{elements:["MultiElementLoader",function(a){return a()}]}}).when("/board",{templateUrl:"views/board.html",controller:"BoardCtrl"}).otherwise({redirectTo:"/players"})}])}).call(this),function(){"use strict";angular.module("darkCrystalApp").controller("GameCtrl",["$scope",function(a){return a.isCollapsed=!1,a.radioModel="Middle",a.dynamic=Math.floor(100*Math.random()+1)}])}.call(this),function(){"use strict";angular.module("darkCrystalApp").controller("TopNavCtrl",["$scope","$location",function(a,b){return a.navTo=function(a){return b.path(a)}}])}.call(this),function(){"use strict";angular.module("darkCrystalApp").controller("PlayersCtrl",["$scope","elements","Element","Players",function(a,b,c,d){var e,f,g;return a.myInterval=5e3,g=a.slides=[],e=a.players=d.all(),f=["Adam","Monika","Sam","Martha","Tom"],a.addSlide=function(a){return g.push({image:a.image,text:a.name})},a.addPlayer=function(a){var d;return d=c.get({id:b[a].id}),e.push({name:f.shuffle()[0],element:d,human:!1})},a.removePlayer=function(a){return e.splice(a,1)},b.map(a.addSlide)}])}.call(this),function(){"use strict";angular.module("darkCrystalApp").service("Players",function(){return{players:[],add:function(a){return this.players.push(a)},all:function(){return this.players}}})}.call(this),function(){"use strict";angular.module("darkCrystalApp").factory("Element",["$resource",function(a){return a("resources/data/elements/:id.json",{},{query:{method:"GET",params:{id:"elements"},isArray:!0}})}])}.call(this),function(){"use strict";angular.module("darkCrystalApp").controller("BoardCtrl",["$scope","Board",function(a,b){return a.numberOfFields=b.fields.length>0?b.fields.length:35,a.fields=b.fields,a.generate=function(){return b.generate(a.numberOfFields),a.fields=b.fields},0===a.fields.length?a.generate():void 0}])}.call(this),function(){"use strict";angular.module("darkCrystalApp").service("Board",function(){var a;return a=[{title:"Road",moveRange:[1,6],image:"resources/fields/road.png"},{title:"Plain",moveRange:[1,5],image:"resources/fields/plain.png"},{title:"Mountain",moveRange:[1,3],image:"resources/fields/mountain.png"},{title:"Forest",moveRange:[1,4],image:"resources/fields/forest.png"},{title:"Swamp",moveRange:[1,2],image:"resources/fields/swamp.png"},{title:"River",moveRange:[1,3],image:"resources/fields/river.png"}],{fields:[],generate:function(b){var c,d,e;for(null==b&&(b=35),this.fields=[],e=[],c=d=0;b>=0?b>d:d>b;c=b>=0?++d:--d)e.push(this.fields.push(a.shuffle()[0]));return e},getFields:function(){return this.fields}}})}.call(this),function(){"use strict";angular.module("darkCrystalApp").factory("MultiElementLoader",["Element","$q",function(a,b){return function(){var c;return c=b.defer(),a.query(function(a){return c.resolve(a)},function(){return c.reject("Unable to fetch Elements")}),c.promise}}])}.call(this);